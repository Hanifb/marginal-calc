<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Namespace: marginalCalc</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Namespace: marginalCalc</h1>

    




<section>

<header>
    
        <h2>
        marginalCalc
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description">Detta är hjärtat i kalkylatorn, här laddar du och kör dina uträkningar.</div>
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line9">line 9</a>
    </li></ul></dd>
    

    

    

    
</dl>


        
    
    </div>

    

    

    

     

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".config.url"><span class="type-signature"></span>.config.url<span class="type-signature"> :String</span></h4>




<div class="description">
    Namnet på mappen för dina moduler.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">String</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>modules/</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line269">line 269</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".config.url"><span class="type-signature"></span>.config.url<span class="type-signature"> :String</span></h4>




<div class="description">
    Url för scriptloader, ändra denna om du tex vill en annan url för dina filer.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">String</span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id=".modules"><span class="type-signature">(static) </span>modules<span class="type-signature"> :Array.&lt;<a href="Module.html">Module</a>></span></h4>




<div class="description">
    Array med alla moduler registrerade av <a href="marginalCalc.html#.addModule">marginalCalc.addModule</a>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Array.&lt;<a href="Module.html">Module</a>></span>


        </li>
    </ul>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line33">line 33</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".addModule"><span class="type-signature">(static) </span>addModule<span class="signature">(moduleName, module, priority<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="marginalCalc.html">marginalCalc</a>}</span></h4>

    



<div class="description">
    Registrerar modulen för att kunna bli kallad av kalkylatorn. Den känner
även av om modulen har en totalCalc funktion som kan köras senare för att
räkna ihop summan av samtliga moduler.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>moduleName</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">name of the Module, referenced function parameters</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>module</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="Module.html">Module</a></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last">The module function</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>priority</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    100
                
                </td>
            

            <td class="description last">Defines in what order the priority the module shall be calculated.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line62">line 62</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Den returnerar sig själv för att kunna kedja anrop.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="marginalCalc.html">marginalCalc</a></span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var nyaModulen = function() {
             this.totalCalc = function() {
                 return -200;
             }
         }
<a href="marginalCalc.html">marginalCalc</a>.addModule("Nymodul", nyaModulen, 200)
            .addModule("Modul2",
                        function() {
                         this.totalCalc = function() {
                             return 500;
                         }
                        },201);

marginalCalc.totalCalc() //-> 300</code></pre>



        
            

    

    <h4 class="name" id=".marginalEff"><span class="type-signature">(static) </span>marginalEff<span class="signature">(increment, newVal, oldVal, notInverted)</span><span class="type-signature"> &rarr; {Number}</span></h4>

    



<div class="description">
    Räknar ut kvoten av förändringen.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>increment</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Ökningen av att mäta marginaleffekten på</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>newVal</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Det nya värdet</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>oldVal</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">Det tidigare värdet</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>notInverted</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last">inverterar resultatet, 0.75 blir 0.25</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line243">line 243</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>


    </dd>
</dl>

    


    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// Räkna ut marginaleffekter på hyreshöjning med 100 kr från 0 - 7000.
household.getHouse().setRent(0); // sätt hyran på noll

var hyreshojning = 100;
var oldval = marginalCalc.totalCalc(); // ta reda på hur mkt man får från början i bidrag.

// Börja mäta förändringar
     for(var i = 1; i &lt; 7000 / increment; i++){

         household.getHouse().setRent(i * hyreshojning); //100 kr -> 7000 kr
         var newVal = marginalCalc.totalCalc(); // få resultat av ex bostadsbidrag och socialbidrag
         console.log(marginalCalc.marginalEff(hyreshojning, newVal, oldVal)) // få marginaleffekten
         oldVal = newVal // spara den nuvarande summan för att jämföra med loop.
      }</code></pre>



        
            

    

    <h4 class="name" id=".run"><span class="type-signature">(static) </span>run<span class="signature">(fn)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Denna metod sparar den medskickade funktionen och väntar på att scriptloadern ska ge grönt ljus.
Denna metod hittar automatiskt vilka moduler funktionen vill
ha tillgång till genom att scanna alla argument till funktionen, argumenten ska heta samma sak som
man angivit som moduleName till <a href="marginalCalc.html#.addModule">marginalCalc.addModule</a>.
Den initierar automatiskt de moduler som funktionen är beroende av. Den initerar även modulernas beroenden.
När den initerat klart anropar den först funktionen och därefter metoden ready() på funktionen om den är definierad.
Det kan vara så att man inte behöver lägga sin kod i ready() då alla moduler bör vara laddade vid körning.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">Funktionen som ska köras</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line92">line 92</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>marginalCalc.run(function(socialBidrag){
     var soc = <a href="socialBidrag.html">socialBidrag</a>.totalCalc(); //-> ger socialbidraget;
     this.ready = function(){
         var readySoc = <a href="socialBidrag.html">socialBidrag</a>.totalCalc()
         console.log(readySoc === soc); //-> true
     }
});</code></pre>



        
            

    

    <h4 class="name" id=".scriptLoader.addScripts"><span class="type-signature"></span>.scriptLoader.addScripts<span class="signature">(modules)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Laddar in javascript filer för användning i marginalCalc
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>modules</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last">An array of filenames to load from the modules folder</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line304">line 304</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>marginalCalc.scriptLoader.addScripts(["socialbidrag", "bostadsbidrag"])
// -> laddar /modules/socialbidrag.js och /modules/bostadsbidrag.js</code></pre>



        
            

    

    <h4 class="name" id=".scriptLoader.loadComplete"><span class="type-signature"></span>.scriptLoader.loadComplete<span class="signature">(file)</span><span class="type-signature"></span></h4>

    



<div class="description">
    Denna funktion bör anropas av varje fil som ska laddas av addScripts. Om inte detta görs så kör kommer kalkylatorn inte börja initiera modulerna.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>file</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">Name of the file that has loaded</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line290">line 290</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>// /modules/mina_nya_moduler.js
var nyaModulen = function() {
     this.totalCalc = function() {
         return -200;
     }
}
marginalCalc.addModule("NyModul", nyaModulen);
marginalCalc.scriptLoader.loadComplete("mina_nya_moduler");</code></pre>



        
            

    

    <h4 class="name" id=".totalCalc"><span class="type-signature">(static) </span>totalCalc<span class="signature">(returnArr<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Number|Array}</span></h4>

    



<div class="description">
    Kör metoden Module.totalCalc på varenda registrerad modul som har den metoden, den kör metoden
i den prioritet som man definierade när man registrerade modulen.
Antingen får man tillbaka en array med resultatet per modul, eller totalsumman.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>returnArr</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last">False returnerar summan, true returnerar en array med separerade resultat per modul.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="marginalCalc.js.html">marginalCalc.js</a>, <a href="marginalCalc.js.html#line189">line 189</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Total sum of modules.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>
|

<span class="param-type">Array</span>


    </dd>
</dl>

    



        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="barnBidrag.html">barnBidrag</a></li><li><a href="bostadsBidrag.html">bostadsBidrag</a></li><li><a href="houseHold.html">houseHold</a></li><li><a href="Housing.html">Housing</a></li><li><a href="Person.html">Person</a></li><li><a href="socialBidrag.html">socialBidrag</a></li><li><a href="studieBidrag.html">studieBidrag</a></li><li><a href="tax.html">tax</a></li></ul><h3>Namespaces</h3><ul><li><a href="marginalCalc.html">marginalCalc</a></li></ul><h3>Interfaces</h3><ul><li><a href="Module.html">Module</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-beta1</a> on Sat Jan 31 2015 17:41:19 GMT+0100 (CET)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>